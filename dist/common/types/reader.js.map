{"version":3,"sources":["../../../src/common/types/reader.js"],"names":["Reader","computation","reader","Object","create","Reader$prototype","x","ctx","f","run","of","chain","map","ap","$Reader","$","BinaryType"],"mappings":";;;;;;;AAAA;;;;;;AAEA;AACA,MAAMA,SAASC,eAAe;AAC5B,QAAMC,SAASC,OAAOC,MAAP,CAAeC,gBAAf,CAAf;AACAH,SAAOD,WAAP,GAAqBA,WAArB;AACA,SAAOC,MAAP;AACD,CAJD;;AAMAF,OAAO,QAAP,IAAmB,eAAnB;AACAA,OAAO,KAAP,IAAgB,MAAMA,OAAQM,KAAKA,CAAb,CAAtB;AACAN,OAAO,IAAP,IAAeM,KAAKN,OAAQ,MAAMM,CAAd,CAApB;;AAEA,MAAMD,mBAAmB;AACvB,iBAAeL,MADQ;AAEvB,YAAU,YAAW;AAAE,WAAQ,QAAR;AAAkB,GAFlB;AAGvB,SAAO,UAASO,GAAT,EAAc;AAAE,WAAO,KAAKN,WAAL,CAAiBM,GAAjB,CAAP;AAA+B,GAH/B;AAIvB,SAAO,UAASC,CAAT,EAAY;AAAE,WAAOR,OAAOO,OAAOC,EAAE,KAAKC,GAAL,CAASF,GAAT,CAAF,CAAd,CAAP;AAAyC,GAJvC;AAKvB,WAAS,UAASC,CAAT,EAAY;AAAE,WAAOR,OAAOO,OAAOC,EAAE,KAAKC,GAAL,CAASF,GAAT,CAAF,EAAiBE,GAAjB,CAAqBF,GAArB,CAAd,CAAP;AAAkD,GALlD;AAMvB,QAAM,UAASC,CAAT,EAAY;AAAE,WAAOR,OAAOO,OAAO,KAAKE,GAAL,CAASF,GAAT,EAAcC,EAAEC,GAAF,CAAMF,GAAN,CAAd,CAAd,CAAP;AAAkD,GAN/C;AAOvB,qBAAmB,UAAUC,CAAV,EAAa;AAAE,WAAO,KAAKE,EAAL,CAAQF,CAAR,CAAP;AAAoB,GAP/B;AAQvB,wBAAsB,UAAUA,CAAV,EAAa;AAAE,WAAO,KAAKG,KAAL,CAAWH,CAAX,CAAP;AAAsB,GARpC;AASvB,sBAAoB,UAAUA,CAAV,EAAa;AAAE,WAAO,KAAKI,GAAL,CAASJ,CAAT,CAAP;AAAoB,GAThC;AAUvB,qBAAmB,UAAUA,CAAV,EAAa;AAAE,WAAO,KAAKK,EAAL,CAAQL,CAAR,CAAP;AAAmB;AAV9B,CAAzB;;AAaA,MAAMM,UAAUC,uBAAEC,UAAF,CACbhB,OAAO,QAAP,CADa,EAEb,GAFa,EAGbM,KAAKN,OAAO,QAAP,MAAqB,eAHb,EAIbE,UAAU,CAACA,OAAOD,WAAR,CAJG,EAKbC,UAAU,CAACA,OAAOD,WAAR,CALG,CAAhB;;QAQED,M,GAAAA,M;QACAc,O,GAAAA,O","file":"reader.js","sourcesContent":["import $ from 'sanctuary-def';\r\n\r\n// Reader :: a -> Reader a\r\nconst Reader = computation => {\r\n  const reader = Object.create (Reader$prototype);\r\n  reader.computation = computation;\r\n  return reader;\r\n};\r\n\r\nReader['@@type'] = 'fun_js/Reader';\r\nReader['ask'] = () => Reader (x => x);\r\nReader['of'] = x => Reader (() => x);\r\n\r\nconst Reader$prototype = {\r\n  'constructor': Reader,\r\n  '@@show': function() { return `Reader`; },\r\n  'run': function(ctx) { return this.computation(ctx); },\r\n  'map': function(f) { return Reader(ctx => f(this.run(ctx))); },\r\n  'chain': function(f) { return Reader(ctx => f(this.run(ctx)).run(ctx)); },\r\n  'ap': function(f) { return Reader(ctx => this.run(ctx)(f.run(ctx))); },\r\n  'fantasy-land/of': function (f) { return this.of(f); },\r\n  'fantasy-land/chain': function (f) { return this.chain(f) },\r\n  'fantasy-land/map': function (f) { return this.map(f) },\r\n  'fantasy-land/ap': function (f) { return this.ap(f) },\r\n};\r\n\r\nconst $Reader = $.BinaryType\r\n  (Reader['@@type'])\r\n  ('?')\r\n  (x => Reader['@@type'] === 'fun_js/Reader')\r\n  (reader => [reader.computation])\r\n  (reader => [reader.computation]);\r\n\r\nexport { \r\n  Reader,\r\n  $Reader\r\n}"]}